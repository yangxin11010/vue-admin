{"version":3,"sources":["webpack:///./src/views/other/clipboard.vue","webpack:///./src/views/other/clipboard.vue?a670","webpack:///./src/views/other/clipboard.vue?92e6","webpack:///./src/util/clipboard/index.ts","webpack:///./src/views/other/clipboard.vue?8e51"],"names":["class","label","text","type","icon","copyInput","copySuccess","copyError","name","setup","value","then","res","console","log","catch","e","error","render","__scopeId","copyText","Promise","resolve","reject","btnElement","document","createElement","style","display","clipboard","action","on","destroy","clearSelection","body","appendChild","click","removeChild"],"mappings":"uNACSA,MAAM,a,iBAImE,U,iBAUjE,W,iOAdb,eAmBM,MAnBN,EAmBM,CAlBF,eAiBU,Q,WAhBN,iBAGc,CAHd,eAGc,GAHDC,MAAM,6BAA2B,C,WAC1C,iBAAsD,CAAtD,eAAsD,GAA5CD,MAAM,Y,WAAqB,EAAAE,K,qDAAA,EAAAA,KAAI,K,uBACzC,eAA8F,GAAnFC,KAAK,UAAUC,KAAK,gBAAiB,QAAO,EAAAC,W,YAAW,iBAAgB,C,oCAEtF,eAWc,GAXDJ,MAAM,gCAA8B,C,WAC7C,iBAAsD,CAAtD,eAAsD,GAA5CD,MAAM,Y,WAAqB,EAAAE,K,qDAAA,EAAAA,KAAI,K,uCACzC,eAQY,GAPRC,KAAK,UAILC,KAAK,iB,YACR,iBAED,C,oBANiB,EAAAF,M,GACQ,EAAAI,YAAT,W,GACO,EAAAC,UAAP,e,iCCTjB,iBAAgB,CAC3BC,KAAM,YACNC,MAF2B,WAGvB,IAAMP,EAAO,eAAI,4CACXG,EAAY,WACd,eAASH,EAAKQ,OACTC,MAAK,SAACC,GACHC,QAAQC,IAAIF,MAEfG,OAAM,SAACC,GACJH,QAAQI,MAAMD,OAGpBV,EAAc,SAACU,GACjBH,QAAQC,IAAIE,IAEVT,EAAY,SAACS,GACfH,QAAQI,MAAMD,IAGlB,MAAO,CACHd,OACAG,YACAC,cACAC,gB,UCvBZ,EAAOW,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,mHCCT,SAAUC,EAAS,GACrB,OAAO,IAAIC,SAAyB,SAACC,EAASC,GAC1C,IAAMC,EAAaC,SAASC,cAAc,UAC1CF,EAAWG,MAAMC,QAAU,OAC3B,IAAMC,EAAY,IAAI,IAAUL,EAAY,CACxCtB,KAAM,WACF,OAAO,GAEX4B,OAAQ,WACJ,MAAO,UAIfD,EAAUE,GAAG,WAAW,SAASf,GAC7B,eAAe,qBACfa,EAAUG,UACVhB,EAAEiB,iBACFX,EAAQN,MAGZa,EAAUE,GAAG,SAAS,SAASf,GAC3B,eAAa,eACba,EAAUG,UACVT,EAAOP,MAEXQ,GAAcC,SAASS,KAAKC,YAAYX,GACxCA,GAAcA,EAAWY,QACzBZ,GAAcC,SAASS,KAAKG,YAAYb,Q,yDCpChD","file":"js/chunk-8397ee84.75815a64.js","sourcesContent":["<template>\r\n    <div class=\"clipboard\">\r\n        <el-tabs>\r\n            <el-tab-pane label=\"use clipboard by function\">\r\n                <el-input class=\"input-box\" v-model=\"text\"></el-input>\r\n                <el-button type=\"primary\" icon=\"np-icon-fuzhi\" @click=\"copyInput\">&nbsp;&nbsp;copy</el-button>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"use clipboard by v-directive\">\r\n                <el-input class=\"input-box\" v-model=\"text\"></el-input>\r\n                <el-button\r\n                    type=\"primary\"\r\n                    v-clipboard=\"text\"\r\n                    v-clipboard:success=\"copySuccess\"\r\n                    v-clipboard:error=\"copyError\"\r\n                    icon=\"np-icon-fuzhi\"\r\n                >\r\n                    &nbsp;copy\r\n                </el-button>\r\n            </el-tab-pane>\r\n        </el-tabs>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, ref } from \"vue\";\r\nimport { copyText } from \"@/util/clipboard\";\r\n\r\nexport default defineComponent({\r\n    name: \"Clipboard\",\r\n    setup() {\r\n        const text = ref(\"https://gitee.com/yangxin11010/vue-admin\");\r\n        const copyInput = () => {\r\n            copyText(text.value)\r\n                .then((res) => {\r\n                    console.log(res);\r\n                })\r\n                .catch((e) => {\r\n                    console.error(e);\r\n                });\r\n        };\r\n        const copySuccess = (e: any) => {\r\n            console.log(e);\r\n        };\r\n        const copyError = (e: any) => {\r\n            console.error(e);\r\n        };\r\n\r\n        return {\r\n            text,\r\n            copyInput,\r\n            copySuccess,\r\n            copyError,\r\n        };\r\n    },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.input-box {\r\n    width: 350px;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent, ref } from \"vue\";\r\nimport { copyText } from \"@/util/clipboard\";\r\n\r\nexport default defineComponent({\r\n    name: \"Clipboard\",\r\n    setup() {\r\n        const text = ref(\"https://gitee.com/yangxin11010/vue-admin\");\r\n        const copyInput = () => {\r\n            copyText(text.value)\r\n                .then((res) => {\r\n                    console.log(res);\r\n                })\r\n                .catch((e) => {\r\n                    console.error(e);\r\n                });\r\n        };\r\n        const copySuccess = (e: any) => {\r\n            console.log(e);\r\n        };\r\n        const copyError = (e: any) => {\r\n            console.error(e);\r\n        };\r\n\r\n        return {\r\n            text,\r\n            copyInput,\r\n            copySuccess,\r\n            copyError,\r\n        };\r\n    },\r\n});\r\n","import { render } from \"./clipboard.vue?vue&type=template&id=b7bbdb1a&scoped=true\"\nimport script from \"./clipboard.vue?vue&type=script&lang=ts\"\nexport * from \"./clipboard.vue?vue&type=script&lang=ts\"\n\nimport \"./clipboard.vue?vue&type=style&index=0&id=b7bbdb1a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-b7bbdb1a\"\n\nexport default script","import Clipboard from \"clipboard\";\r\nimport { successMessage, errorMessage } from \"@/util/message\";\r\n\r\n/**\r\n * @param: text {string}\r\n * @returns: {Promise}\r\n * @Description: Copy Text\r\n */\r\n\r\nexport function copyText(text: string) {\r\n    return new Promise<Clipboard.Event>((resolve, reject) => {\r\n        const btnElement = document.createElement(\"button\");\r\n        btnElement.style.display = \"none\";\r\n        const clipboard = new Clipboard(btnElement, {\r\n            text: function() {\r\n                return text;\r\n            },\r\n            action: function() {\r\n                return \"copy\";\r\n            },\r\n        });\r\n\r\n        clipboard.on(\"success\", function(e) {\r\n            successMessage(\"Copy successfully\");\r\n            clipboard.destroy();\r\n            e.clearSelection();\r\n            resolve(e);\r\n        });\r\n\r\n        clipboard.on(\"error\", function(e) {\r\n            errorMessage(\"Copy failed\");\r\n            clipboard.destroy();\r\n            reject(e);\r\n        });\r\n        btnElement && document.body.appendChild(btnElement);\r\n        btnElement && btnElement.click();\r\n        btnElement && document.body.removeChild(btnElement);\r\n    });\r\n}\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./clipboard.vue?vue&type=style&index=0&id=b7bbdb1a&lang=scss&scoped=true\""],"sourceRoot":""}