{"version":3,"sources":["webpack:///./src/views/other/clipboard.vue","webpack:///./src/views/other/clipboard.vue?a670","webpack:///./src/views/other/clipboard.vue?92e6","webpack:///./src/util/clipboard/index.ts"],"names":["class","label","gutter","span","xs","text","type","icon","copyInput","copySuccess","copyError","name","setup","value","then","res","console","log","catch","e","error","render","copyText","Promise","resolve","reject","btnElement","document","createElement","style","display","clipboard","action","on","destroy","clearSelection","body","appendChild","click","removeChild"],"mappings":"4IACSA,MAAM,a,iBAQ2E,Q,iBAgBjE,U,+PAxBrB,eA+BM,MA/BN,EA+BM,CA9BF,eA6BU,Q,yBA5BN,iBASc,CATd,eASc,GATDC,MAAM,6BAA2B,C,yBAC1C,iBAOS,CAPT,eAOS,GAPAC,OAAQ,IAAE,C,yBACf,iBAES,CAFT,eAES,GAFDF,MAAM,OAAQG,KAAM,EAAIC,GAAI,I,0BAChC,iBAAoC,CAApC,eAAoC,G,WAAjB,EAAAC,K,qDAAA,EAAAA,KAAI,K,iCAE3B,eAES,GAFDL,MAAM,OAAQG,KAAM,GAAKC,GAAI,I,0BACjC,iBAAkF,CAAlF,eAAkF,GAAvEE,KAAK,UAAUC,KAAK,gBAAiB,QAAO,EAAAC,W,0BAAW,iBAAI,C,wDAIlF,eAiBc,GAjBDP,MAAM,gCAA8B,C,yBAC7C,iBAeS,CAfT,eAeS,GAfAC,OAAQ,IAAE,C,yBACf,iBAES,CAFT,eAES,GAFDF,MAAM,OAAQG,KAAM,EAAIC,GAAI,I,0BAChC,iBAAoC,CAApC,eAAoC,G,WAAjB,EAAAC,K,qDAAA,EAAAA,KAAI,K,iCAE3B,eAUS,GAVDL,MAAM,OAAQG,KAAM,GAAKC,GAAI,I,0BACjC,iBAQY,C,gBARZ,eAQY,GAPRE,KAAK,UAILC,KAAK,iB,0BACR,iBAED,C,oBANiB,EAAAF,M,GACQ,EAAAI,YAAT,W,GACO,EAAAC,UAAP,e,sDCnBzB,iBAAgB,CAC3BC,KAAM,YACNC,MAF2B,WAGvB,IAAMP,EAAO,eAAI,4CACXG,EAAY,WACd,eAASH,EAAKQ,OACTC,MAAK,SAACC,GACHC,QAAQC,IAAIF,MAEfG,OAAM,SAACC,GACJH,QAAQI,MAAMD,OAGpBV,EAAc,SAACU,GACjBH,QAAQC,IAAIE,IAEVT,EAAY,SAACS,GACfH,QAAQI,MAAMD,IAGlB,MAAO,CACHd,OACAG,YACAC,cACAC,gBCzBZ,EAAOW,OAASA,EAED,gB,mHCIT,SAAUC,EAAS,GACrB,OAAO,IAAIC,SAAyB,SAACC,EAASC,GAC1C,IAAMC,EAAaC,SAASC,cAAc,UAC1CF,EAAWG,MAAMC,QAAU,OAC3B,IAAMC,EAAY,IAAI,IAAUL,EAAY,CACxCrB,KAAM,WACF,OAAO,GAEX2B,OAAQ,WACJ,MAAO,UAIfD,EAAUE,GAAG,WAAW,SAASd,GAC7B,eAAe,qBACfY,EAAUG,UACVf,EAAEgB,iBACFX,EAAQL,MAGZY,EAAUE,GAAG,SAAS,SAASd,GAC3B,eAAa,eACbY,EAAUG,UACVT,EAAON,MAEXO,GAAcC,SAASS,KAAKC,YAAYX,GACxCA,GAAcA,EAAWY,QACzBZ,GAAcC,SAASS,KAAKG,YAAYb","file":"js/chunk-06f0b4d9.cc3d0976.js","sourcesContent":["<template>\r\n    <div class=\"clipboard\">\r\n        <el-tabs>\r\n            <el-tab-pane label=\"use clipboard by function\">\r\n                <el-row :gutter=\"10\">\r\n                    <el-col class=\"mb10\" :span=\"8\" :xs=\"24\">\r\n                        <el-input v-model=\"text\"></el-input>\r\n                    </el-col>\r\n                    <el-col class=\"mb10\" :span=\"16\" :xs=\"24\">\r\n                        <el-button type=\"primary\" icon=\"np-icon-fuzhi\" @click=\"copyInput\">copy</el-button>\r\n                    </el-col>\r\n                </el-row>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"use clipboard by v-directive\">\r\n                <el-row :gutter=\"10\">\r\n                    <el-col class=\"mb10\" :span=\"8\" :xs=\"24\">\r\n                        <el-input v-model=\"text\"></el-input>\r\n                    </el-col>\r\n                    <el-col class=\"mb10\" :span=\"16\" :xs=\"24\">\r\n                        <el-button\r\n                            type=\"primary\"\r\n                            v-clipboard=\"text\"\r\n                            v-clipboard:success=\"copySuccess\"\r\n                            v-clipboard:error=\"copyError\"\r\n                            icon=\"np-icon-fuzhi\"\r\n                        >\r\n                            copy\r\n                        </el-button>\r\n                    </el-col>\r\n                </el-row>\r\n            </el-tab-pane>\r\n        </el-tabs>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, ref } from \"vue\";\r\nimport { copyText } from \"@/util/clipboard\";\r\n\r\nexport default defineComponent({\r\n    name: \"Clipboard\",\r\n    setup() {\r\n        const text = ref(\"https://gitee.com/yangxin11010/vue-admin\");\r\n        const copyInput = () => {\r\n            copyText(text.value)\r\n                .then((res) => {\r\n                    console.log(res);\r\n                })\r\n                .catch((e) => {\r\n                    console.error(e);\r\n                });\r\n        };\r\n        const copySuccess = (e: any) => {\r\n            console.log(e);\r\n        };\r\n        const copyError = (e: any) => {\r\n            console.error(e);\r\n        };\r\n\r\n        return {\r\n            text,\r\n            copyInput,\r\n            copySuccess,\r\n            copyError,\r\n        };\r\n    },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","\r\nimport { defineComponent, ref } from \"vue\";\r\nimport { copyText } from \"@/util/clipboard\";\r\n\r\nexport default defineComponent({\r\n    name: \"Clipboard\",\r\n    setup() {\r\n        const text = ref(\"https://gitee.com/yangxin11010/vue-admin\");\r\n        const copyInput = () => {\r\n            copyText(text.value)\r\n                .then((res) => {\r\n                    console.log(res);\r\n                })\r\n                .catch((e) => {\r\n                    console.error(e);\r\n                });\r\n        };\r\n        const copySuccess = (e: any) => {\r\n            console.log(e);\r\n        };\r\n        const copyError = (e: any) => {\r\n            console.error(e);\r\n        };\r\n\r\n        return {\r\n            text,\r\n            copyInput,\r\n            copySuccess,\r\n            copyError,\r\n        };\r\n    },\r\n});\r\n","import { render } from \"./clipboard.vue?vue&type=template&id=068db1ac\"\nimport script from \"./clipboard.vue?vue&type=script&lang=ts\"\nexport * from \"./clipboard.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import Clipboard from \"clipboard\";\r\nimport { successMessage, errorMessage } from \"@/util/message\";\r\n\r\n/**\r\n * @param: text {string}\r\n * @returns: {Promise}\r\n * @Description: Copy Text\r\n */\r\n\r\nexport function copyText(text: string) {\r\n    return new Promise<Clipboard.Event>((resolve, reject) => {\r\n        const btnElement = document.createElement(\"button\");\r\n        btnElement.style.display = \"none\";\r\n        const clipboard = new Clipboard(btnElement, {\r\n            text: function() {\r\n                return text;\r\n            },\r\n            action: function() {\r\n                return \"copy\";\r\n            },\r\n        });\r\n\r\n        clipboard.on(\"success\", function(e) {\r\n            successMessage(\"Copy successfully\");\r\n            clipboard.destroy();\r\n            e.clearSelection();\r\n            resolve(e);\r\n        });\r\n\r\n        clipboard.on(\"error\", function(e) {\r\n            errorMessage(\"Copy failed\");\r\n            clipboard.destroy();\r\n            reject(e);\r\n        });\r\n        btnElement && document.body.appendChild(btnElement);\r\n        btnElement && btnElement.click();\r\n        btnElement && document.body.removeChild(btnElement);\r\n    });\r\n}\r\n"],"sourceRoot":""}